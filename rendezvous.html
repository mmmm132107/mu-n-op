<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>rendezvous</title>

<style>
body{
  margin:0;
  background:#06070a;
  color:#f2e6d8;
  font-family: "Be Vietnam Pro", system-ui, sans-serif;
  overflow-x:hidden;
}

/* slideshow container */
.slider-wrap{
  width:100vw;
  height:70vh;
  overflow:hidden;
  position:relative;
}

.slider{
  display:flex;
  width:max-content;
  animation:scrollX 14s linear forwards;
}

.slider img{
  width:100vw;
  height:70vh;
  object-fit:cover;
  filter:brightness(.92);
}

/* slide animation */
@keyframes scrollX{
  from{ transform:translateX(0); }
  to{ transform:translateX(-200%); } /* sá»‘ nÃ y = sá»‘ áº£nh */
}

/* voice section */
.voice-box{
  text-align:center;
  padding:40px 20px 90px;
  opacity:0;
  transform:translateY(12px);
  transition:.6s;
}

.voice-box.show{
  opacity:1;
  transform:translateY(0);
}

button{
  padding:14px 20px;
  border-radius:14px;
  border:1px solid #d8c8b8;
  background:rgba(25,25,28,.5);
  color:#f2e6d8;
  cursor:pointer;
  font-size:15px;
  backdrop-filter:blur(6px);
}

button:hover{
  transform:scale(1.03);
}

#status{
  margin-top:16px;
  opacity:.85;
}
</style>
</head>

<body>

<div class="slider-wrap">
  <div class="slider">

    <!-- ğŸ”¹ Thay áº£nh cá»§a báº¡n vÃ o Ä‘Ã¢y -->
    <img src="/assets/r1.jpg">
    <img src="/assets/r2.jpg">
    <img src="/assets/r3.jpg">

  </div>
</div>

<div id="voice" class="voice-box">
  <h3>NÃ³i máº­t kháº©u Ä‘á»ƒ Ä‘i tiáº¿p</h3>
  <div style="opacity:.7; font-size:13px;">
    (wo ai ni qizi â€” æˆ‘çˆ±ä½  å¦»å­ â€” wÇ’ Ã i nÇ qÄ«zi)
  </div>

  <br>

  <button id="listenBtn">Báº¥m Ä‘á»ƒ nÃ³i</button>

  <p id="status"></p>
</div>

<script>
const target = "wo ai ni qizi";   // cÃ¢u Ä‘Ãºng
const voiceBox = document.getElementById("voice");
const listenBtn = document.getElementById("listenBtn");
const statusBox = document.getElementById("status");

/* âœ¨ chá»‰ hiá»ƒn thá»‹ voice box sau khi slideshow cháº¡y xong */
setTimeout(()=>{
  voiceBox.classList.add("show");
}, 14500); // báº±ng thá»i gian animation

/* ğŸ¤ Speech Recognition */
const SpeechRecognition =
  window.SpeechRecognition || window.webkitSpeechRecognition;

const rec = new SpeechRecognition();

/* Nháº­n tá»‘t tiáº¿ng Trung + Romanized */
rec.lang = "zh-CN";
rec.interimResults = false;

listenBtn.onclick = () => {
  statusBox.innerText = "Äang láº¯ng ngheâ€¦";
  rec.start();
};

rec.onresult = (e) => {

  const spoken = e.results[0][0].transcript
    .toLowerCase()
    .replaceAll(",", "")
    .trim();

  statusBox.innerText = `Báº¡n nÃ³i: "${spoken}"`;

  /* ğŸ¯ kiá»ƒm tra Ä‘Ãºng máº­t kháº©u */
  if(spoken.includes(target)){
    statusBox.innerText = "ÄÃºng rá»“iâ€¦ rendezvous accepted.";

    setTimeout(()=>{
      window.location.href = "Thecall.html";
    }, 900);

    return;
  }

  /* ğŸ” vá»ng láº¡i cÃ¢u nÃ³i */
  const echo = new SpeechSynthesisUtterance(
    `Báº¡n vá»«a nÃ³i: ${spoken}. KhÃ´ng Ä‘Ãºng.`
  );

  echo.lang = "vi-VN";
  speechSynthesis.speak(echo);
};
</script>

</body>
</html>

