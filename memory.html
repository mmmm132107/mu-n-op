<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Memory</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #0f0f0f;
        font-family: "Georgia", serif;
        color: #f5e6dc;
    }

    .container {
        position: relative;
        padding: 80px 120px;
    }

    /* My love story */
    .title {
        font-size: 36px;
        letter-spacing: 2px;
        cursor: pointer;
        transition: 0.3s;
    }
    .title:hover {
        transform: scale(1.05);
    }

    /* Frame ô vuông */
    .frame {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
    }

    .square {
        width: 14px;
        height: 14px;
        border: 1px solid #e6d2c4;
        position: absolute;
        pointer-events: auto;
        transition: 0.3s;
    }

    .square:hover {
        background: #c6b2a3;
    }

    /* Ô đặc biệt — góc trái dưới */
    .secret {
        background: #b39986;
    }

    /* Popup text */
    .popup {
        position: absolute;
        bottom: -70px;
        left: 0;
        right: 0;
        text-align: center;
        width: 520px;
        font-size: 14px;
        line-height: 1.5;
        opacity: 0;
        transition: 0.7s;
        margin: auto;
    }
</style>
</head>

<body>

<div class="container">

    <div class="title" id="goCall">
        My love story
    </div>

    <div class="popup" id="popup"></div>

    <div class="frame" id="frame"></div>

</div>

<script>
const frame = document.getElementById("frame");
const popup = document.getElementById("popup");
const goCall = document.getElementById("goCall");

/* Tạo frame bằng các ô vuông */
const rows = 8;
const cols = 14;
const gap = 26;

/* Tọa độ khung */
for (let r = 0; r < rows; r++) {
    for (let c = 0; c < cols; c++) {

        const edge =
            r === 0 || r === rows - 1 ||
            c === 0 || c === cols - 1;

        if (!edge) continue;

        const sq = document.createElement("div");
        sq.className = "square";

        sq.style.top = r * gap + "px";
        sq.style.left = c * gap + "px";

        /* Đánh dấu ô góc trái dưới */
        if (r === rows - 1 && c === 0) {
            sq.classList.add("secret");
            sq.addEventListener("click", revealSecret);
        }

        frame.appendChild(sq);
    }
}

/* Khi bấm My love story → chuyển thẳng */
goCall.onclick = () => {
    window.location.href = "call.html";
};

/* Khi bấm ô bí mật */
function revealSecret() {
    popup.innerText =
        "Con ngựa ấy ở lại bãi cỏ vì ngũ cốc và mái chuồng quen thuộc. Nó nhiều lần tự nhủ rằng rồi sẽ rời đi và chạy đến một dải thảo nguyên xanh ngắt. Nhưng mỗi lần đến sát ranh giới của sự dứt bỏ, tim nó lại mềm ra trước những điều đã làm nó hạnh phúc. Phía trước là tự do, còn phía sau là người đã buộc sợi dây bằng cả quan tâm lẫn sự tiện lợi. Và thế là nó quay đầu. Nó đã lỡ yêu nơi ấy quá nhiều để rời đi.";

    popup.style.opacity = 1;

    setTimeout(() => {
        window.location.href = "call.html";
    }, 2500);
}
</script>

</body>
</html>

